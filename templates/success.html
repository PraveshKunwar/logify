<!DOCTYPE html>
<html>
  <head>
    <title>Welcome</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container mt-5">
      <h2 class="text-center">Welcome!</h2>
      <p class="text-center">
        You are logged in as: <strong>{{ email }}</strong>
      </p>
      <div class="text-center mt-3">
        <p id="timer">Token expires in: 10:00</p>
        <a href="/logout" class="btn btn-secondary">Logout</a>
      </div>
    </div>
    <script>
      let timeLeft = 600; // 10 minutes
      const timer = document.getElementById("timer");
      const interval = setInterval(() => {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        timer.textContent = `Token expires in: ${minutes}:${
          seconds < 10 ? "0" : ""
        }${seconds}`;
        if (timeLeft <= 0) {
          clearInterval(interval);
          timer.textContent = "Token expired!";
        }
        timeLeft -= 1;
      }, 1000);
    </script>
  </body>
</html>
